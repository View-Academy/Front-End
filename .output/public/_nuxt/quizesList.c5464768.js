import{a as $,m as C,b as d,e,F as b,r as f,C as B,o as r,t as u,w as m,v as h,p as L,f as k}from"./entry.5a09969b.js";import{C as q}from"./choices.b66eef54.js";import{$ as v}from"./dropzone.ec2618c5.js";import{r as E,u as I}from"./xlsx.7ecdcb2b.js";const z={name:"edit-cuorses",data(){return{allcourses:Array}},computed:{...C(["getQuizes"])},mounted(){this.$store.dispatch("SetQuize");const o=[],a=document.getElementById("choices-multiple-remove-button");if(a&&new q(a,{removeItemButton:!0}).setChoices([{value:"One",label:"Label One",disabled:!0},{value:"Two",label:"Label Two",selected:!0},{value:"Three",label:"Label Three"}],"value","label",!1),v.autoDiscover=!1,document.getElementById("dropzone")){const l=document.getElementById("dropzone");new v(l,{paramName:"file",acceptedFiles:".doc, .docx, .pdf, .xls, .xlsx",url:"/file/post",addRemoveLinks:!0,timeout:9e4,accept:function(p,w){var c=new FileReader;c.addEventListener("loadend",function(s){var n=s.target.result,_=E(n,{type:"binary"});_.SheetNames.forEach(function(y){var g=I.sheet_to_row_object_array(_.Sheets[y]),x=JSON.stringify(g),A=JSON.parse(x);A.forEach(t=>{let S={courses:t.courses,subject:t.subject,systems:t.systems,topic:t.topic,totalPoint:t.totalPoint,question:[{Answer1:t.Answer1,Answer2:t.Answer2,Answer3:t.Answer3,Answer4:t.Answer4,Answer5:t.Answer5,Answer6:t.Answer6,Answer7:t.Answer7,Answer8:t.Answer8,Answer:t.Answer,questiontext:t.questiontext,explanation:t.explanation}]};o.push(S)}),$fetch("http://localhost:8000/api/question/insertMany",{method:"POST",body:o}).then(t=>{console.log(t)}).catch(t=>{console.log(t)})})}),c.readAsBinaryString(p)}})}},methods:{editItem(o){$fetch("http://localhost:8000/api/question/"+o,{method:"DELETE"}).then(a=>{this.$swal({icon:"success",title:"Delete is successfully!",text:"You clicked the button!"})}).catch(a=>{console.log(a)})},deleteItem(o){this.$swal({title:"Are you sure?",text:"You won Delete  this Quastions!",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0,customClass:{confirmButton:"btn bg-gradient-success",cancelButton:"btn bg-gradient-danger"},buttonsStyling:!1}).then(a=>{a.isConfirmed?$fetch("http://localhost:8000/api/question/"+o,{method:"DELETE"}).then(l=>{this.$store.dispatch("SetQuize"),this.$swal({title:"Deleted successfully!",text:l,icon:"success",customClass:{confirmButton:"btn bg-gradient-success"},buttonsStyling:!1}),this.name="",this.price=0,this.quillContent=""}):a.dismiss===this.$swal.DismissReason.cancel&&this.$swal({title:"Cancelled!",text:"Your imaginary file is safe :)",icon:"error",customClass:{confirmButton:"btn bg-gradient-success"},buttonsStyling:!1})})}}},i=o=>(L("data-v-6787d286"),o=o(),k(),o),D={class:"py-4 container-fluid"},T={class:"mt-4 row"},N={class:"col-12"},j={class:"card"},Q=B('<form id="dropzone" action="/file-upload" class="form-control dropzone" data-v-6787d286><div class="fallback p-5" data-v-6787d286><input name="file" type="file" multiple data-v-6787d286></div></form><div class="card-header" data-v-6787d286><h5 class="mb-0" data-v-6787d286>Quize List</h5></div>',2),U={class:"table-responsive"},V={class:"table table-flush"},O=i(()=>e("thead",{class:"thead-light"},[e("tr",null,[e("th",null,"Name"),e("th",null,"Subject"),e("th",null,"systems"),e("th",null,"topic"),e("th",null,"Action")])],-1)),F={class:"text-sm font-weight-normal p-4"},M={class:"text-sm font-weight-normal p-4"},P={class:"text-sm font-weight-normal p-4"},Y=["onClick"],R=["id"],J={class:"modal-dialog"},G={class:"modal-content"},X={class:"modal-header"},H={class:"modal-title",id:"exampleModalLabel"},K=i(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),W={class:"modal-body"},Z={class:"mb-3"},ee=i(()=>e("label",{for:"recipient-name",class:"col-form-label"},"Name:",-1)),te=["onUpdate:modelValue"],se={class:"mb-3"},oe=i(()=>e("label",{for:"recipient-name",class:"col-form-label"},"Price:",-1)),ne=["onUpdate:modelValue"],ae={class:"mb-3"},ie=i(()=>e("label",{for:"message-text",class:"col-form-label"},"Discrption:",-1)),le=["onUpdate:modelValue"],ce={class:"modal-footer"},de=i(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),re=["onClick"];function ue(o,a,l,p,w,c){return r(),d("div",D,[e("div",T,[e("div",N,[e("div",j,[Q,e("div",U,[e("table",V,[O,e("tbody",null,[(r(!0),d(b,null,f(o.getQuizes,s=>(r(),d("tr",{class:"",key:s},[(r(!0),d(b,null,f(s.question,n=>(r(),d("td",{class:"text-sm font-weight-normal p-4 qustion-1",key:n},u(n.questiontext),1))),128)),e("td",F,u(s.subject),1),e("td",M,u(s.systems),1),e("td",P,u(s.topic),1),e("td",null,[e("i",{class:"fas fa-trash text-secondary",onClick:n=>c.deleteItem(s.id)},null,8,Y)]),e("div",{class:"modal fade",id:s.name,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[e("div",J,[e("div",G,[e("div",X,[e("h5",H,"Update ("+u(s.name)+")",1),K]),e("div",W,[e("form",null,[e("div",Z,[ee,m(e("input",{type:"text",class:"form-control",id:"recipient-name","onUpdate:modelValue":n=>s.name=n},null,8,te),[[h,s.name]])]),e("div",se,[oe,m(e("input",{type:"text",class:"form-control",id:"recipient-name","onUpdate:modelValue":n=>s.price=n},null,8,ne),[[h,s.price]])]),e("div",ae,[ie,m(e("input",{class:"form-control",id:"message-text","onUpdate:modelValue":n=>s.discrption=n},null,8,le),[[h,s.discrption]])])])]),e("div",ce,[de,e("button",{type:"button",class:"btn btn-primary",onClick:n=>c.editItem(s),"data-bs-dismiss":"modal"},"Update",8,re)])])])],8,R)]))),128))])])])])])])])}const be=$(z,[["render",ue],["__scopeId","data-v-6787d286"]]);export{be as default};
